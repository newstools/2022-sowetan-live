Sri Lankan President Gotabaya Rajapaksa fled the country on Wednesday, hours before he was due to step down, after a people's uprising over a devastating economic crisis ended his family's powerful grip on the island nation. Prime Minister Ranil Wickremesinghe declared a state of emergency as several hundred people surrounded his office in Colombo trying to breach the compound past police in riot gear, climbing the fences. Police fired several rounds of teargas and a military helicopter circled overhead. "The prime minister as acting president has declared a state of emergency (countrywide) and imposed a curfew in the western province," Wickremesinghe's media secretary, Dinouk Colombage, told Reuters. Western Province includes Colombo. As news of the president's flight spread, thousands of people gathered at the main protest site in Colombo chanting "Gota thief, Gota thief", referring to him by a nickname. The president's flight brings an end to the rule of the powerful Rajapaksa clan that has dominated politics in the South Asian country for the last two decades. Protests against the economic crisis have simmered for months and came to a head last weekend when hundreds of thousands of people took over key government buildings in Colombo, blaming the Rajapaksas and their allies for runaway inflation, corruption and a severe lack of fuel and medicines. Government sources and aides said the president's brothers, former prime minister Mahinda Rajapaksa and former finance minister Basil Rajapaksa, were still in Sri Lanka. Gotabaya Rajapaksa, his wife and two bodyguards left the main international airport near Colombo aboard a Sri Lankan Air Force plane early on Wednesday, the air force said in a statement. A government source and a person close to Rajapaksa said he was in Male, the capital of the Maldives. The president would most likely proceed to another Asian country from there, the government source said. Rajapaksa was due to step down as president on Wednesday to make way for a unity government after protesters stormed his and the prime minister's official residences. Mahinda Yapa Abeywardena, the speaker of Sri Lanka's parliament, told Reuters partner ANI he was yet to receive any communication from Rajapaksa. A source in the ruling party said the president would send in a letter of resignation later on Wednesday. That would make Wickremesinghe the acting president, although he has also offered to resign. If he does, the speaker will be the acting president until a new president is elected, as per the constitution. Protest leaders, however, say the prime minister is allied to the Rajapaksas and have warned of a "decisive fight" if he does not resign by Wednesday afternoon. "If we don't hear of the resignation of the president and the prime minister by the evening, we may have to gather back and take over parliament or another government building," said Buddhi Prabodha Karunaratne, one of the organisers of recent protests. "We are strongly against the Gota-Ranil government. Both have to go." Amid the economic and political chaos, Sri Lanka's sovereign bond prices hit fresh record lows on Wednesday. The U.S. Embassy in Colombo, which is in the central district of the city, said it was cancelling consular services for the afternoon and for Thursday as a precautionary measure. The island nation's tourism-dependent economy was hammered first by the COVID-19 pandemic and then suffered from a fall in remittances from overseas Sri Lankans. A ban on chemical fertilisers hit output although the ban was later reversed. The Rajapaksas implemented populist tax cuts in 2019 that affected government finances while shrinking foreign reserves curtailed imports of fuel, food and medicines. Petrol has been severely rationed and long lines have formed in front of shops selling cooking gas. Headline inflation hit 54.6% last month and the central bank has warned that it could rise to 70% in coming months. Mahinda Rajapaksa, the president's elder brother, resigned as prime minister in May after protests against the family turned violent. He remained in hiding at a military base in the east of the country for some days before returning to Colombo. In May, the Rajapaksa government appointed Mohammed Nasheed, the speaker of the Maldives parliament and a former president, to help coordinate foreign assistance for crisis-hit Sri Lanka. The same month, Nasheed publicly denied allegations that he was helping Mahinda Rajapaksa secure safe haven in the Maldives. Media reports in the Maldives said the Sri Lankan president had arrived in the country early on Wednesday although Reuters was unable to independently verify this. A Maldives government spokesman did not respond to Reuters' request for comment. On Tuesday, Sri Lankan immigration officials prevented Basil Rajapaksa from flying out of the country. It was not clear where Basil Rajapaksa, who also holds U.S. citizenship, was trying to go. He resigned as finance minister in early April amid heavy street protests and quit his seat in parliament in June.